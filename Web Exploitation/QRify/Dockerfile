FROM python:3.9-buster

WORKDIR /qrify

COPY . /qrify

RUN useradd -ms /bin/bash ctf &&\
    chown -R root:root /qrify && \
    chmod -R 775 /qrify && \
    apt-get update && \ 
    apt-get -y install zbar-tools 
    
EXPOSE 8080

RUN pip install --no-cache-dir -r requirements.txt
#run as ctf user
USER ctf
