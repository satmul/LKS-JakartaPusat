from flask import Flask, render_template, request, url_for, redirect, flash, \
session, abort, jsonify

success = {'code': 200, 'message':'success'}
forbidden = {'code': 403, 'message':'forbidden'}
notfound = {'code': 404, 'message':'not found'}
wrongotp = {'code': 406, 'message':'otp incorrect'}
somethingwrong = {'code': 406, 'message':'something\'s wrong'}


app = Flask(__name__)


@app.route("/", methods=["GET"])
def home():
	return render_template("home.html")

@app.route('/verify', methods=['GET'])
def UI_verify():
	return render_template("verify.html")

@app.route('/login', methods=['GET'])
def UI_login():
	return render_template("login.html")

@app.route('/admin', methods=['GET'])
def UI_admin():
	print(request.cookies)
	if request.cookies.get('access-avail') == '6912':
		return render_template("admin.html")
	else:
		return redirect(url_for('home'))

@app.route('/api/otp/submit', methods=['POST'])
def otp_submit():
	otp = request.json["otp"]
	if False:
		return jsonify(success), 200
	else:
		return jsonify(wrongotp), 406



if __name__ == "__main__":
    app.run(host = '0.0.0.0', port=5001, debug=False)